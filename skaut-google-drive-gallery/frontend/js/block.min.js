jQuery( function( $ ) {
(()=>{"use strict";const t=wp.blocks,e=wp.element;var r,n=(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return n(r,t),r.prototype.render=function(){return(0,e.createElement)("svg",{viewBox:"0 0 128 128"},[(0,e.createElement)("path",{d:"M46.18,25.13c9.68,0,13.17,10.2,19.86,10.2h40a9.25,9.25,0,0,1,7.23,7.23V95.65a9.24,9.24,0,0,1-7.23,7.22H21.94a9.24,9.24,0,0,1-7.23-7.22V32.35a9.24,9.24,0,0,1,7.23-7.22H46.18Z",fill:"#fff"}),(0,e.createElement)("path",{d:"M46.18,27.13c9.68,0,13.17,10.2,19.86,10.2h38a7.25,7.25,0,0,1,7.23,7.23V93.65a7.24,7.24,0,0,1-7.23,7.22H23.94a7.24,7.24,0,0,1-7.23-7.22V34.35a7.24,7.24,0,0,1,7.23-7.22H46.18m0-6.44H23.94A13.69,13.69,0,0,0,10.27,34.35v59.3a13.69,13.69,0,0,0,13.67,13.66h80.12a13.69,13.69,0,0,0,13.67-13.66V44.56A13.69,13.69,0,0,0,104.06,30.9H66c-.6,0-2.65-1.81-3.75-2.79C58.75,25,53.9,20.69,46.18,20.69Z",fill:"#4385f4"}),(0,e.createElement)("image",{width:"47",height:"38",transform:"translate(23.15 57.15)",opacity:"0.5","xlink:href":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC8AAAAmCAYAAABUKMJkAAAACXBIWXMAAAsSAAALEgHS3X78AAAA+0lEQVRYR+2ZLQ7CQBBGXzc9RAUWNIKrIEjQoBCcBIFCg+MqnACFqNhDNFnE/rS0CcgZknlJTbNN3k6m5vuqEAIAi9u+BhqgRicd4J/bS5dfVCGELL4EzsQLaMQDR6AlXSJPuSGKr9A7+RlwB17ABmir+XVXE6Xv6YB2WmANPBxx6if0rsuY4uuIa6L5Rx1TfN2vk5oxeSlMXgqTl8LkpTB5KUxeCpOXwuSlMHkpTF4Kk5fC5KX4e/mOGB+X3Fs5xdfR597+6yd6KL4uNQ1terRPv7gOywUPHOibEU3J8XCts6eHVOvApJPSlNkP1/qjlyryQ5SVa5MiLfMG2TdPlJH519AAAAAASUVORK5CYII="}),(0,e.createElement)("rect",{x:"25.77",y:"59.3",width:"41.66",height:"32.91",rx:"3.99",fill:"#fff"}),(0,e.createElement)("path",{d:"M63.44,60.25a3.05,3.05,0,0,1,3,3V88.21a3.05,3.05,0,0,1-3,3H29.76a3.05,3.05,0,0,1-3-3V63.29a3.05,3.05,0,0,1,3-3H63.44m0-1.9H29.76a4.94,4.94,0,0,0-4.94,4.94V88.21a5,5,0,0,0,4.94,5H63.44a5,5,0,0,0,4.94-5V63.29a4.94,4.94,0,0,0-4.94-4.94Z",fill:"#25a366"}),(0,e.createElement)("polygon",{points:"52.39 65.19 42.78 80.5 38.22 73.47 27.13 89.98 28.71 91.25 64.4 91.25 66.07 90.05 52.39 65.19",fill:"#25a366"}),(0,e.createElement)("image",{width:"46",height:"38",transform:"translate(57.15 46.15)",opacity:"0.5","xlink:href":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAmCAYAAAC76qlaAAAACXBIWXMAAAsSAAALEgHS3X78AAABAElEQVRYR+3ZoW3EMBSH8V+sDBEQ0BGyx03QEQoOdJIDBzpCQfFtUZARCg5kiEgucHyK1ErHLEfyR2xZBt97sQL+r4sxAvOpx4BefaxYTLc1H3Qxxiw94SrJ18aCd9xtBfQ76Y9trbHjI77wg1fc8/O4qlea5DVu+9F8WgJetsNapfcMuGAI+FTnu/6Pxw9k/wkORXh2oVaaeGmaeGmaeGmaeGmaeGmaeGmaeGmaeGmaeGmaeGmaeGmaeGmCFN0+cuejEKTYdnl2sRJSwM8apMz5CF1fMeOMJUgVnPGt3gKy9Btm023dj1IGKbm9qC92zs2d8xyoewyvqHmA9Wd49QviUUIit/OkSAAAAABJRU5ErkJggg=="}),(0,e.createElement)("rect",{x:"58.97",y:"48.62",width:"41.66",height:"32.9",rx:"3.99",fill:"#fff"}),(0,e.createElement)("path",{d:"M96.64,49.57a3,3,0,0,1,3,3V77.53a3,3,0,0,1-3,3H63a3.05,3.05,0,0,1-3-3V52.61a3,3,0,0,1,3-3H96.64m0-1.91H63a5,5,0,0,0-5,5V77.53a5,5,0,0,0,5,4.94H96.64a4.94,4.94,0,0,0,4.94-4.94V52.61a5,5,0,0,0-4.94-5Z",fill:"#ffcf4a"}),(0,e.createElement)("circle",{cx:"79.8",cy:"63.89",r:"5.32",fill:"#ffcf4a"}),(0,e.createElement)("path",{d:"M69.24,80.82c1-5.48,4.49-9.54,8.55-9.54h4c4.06,0,7.51,4.06,8.55,9.54Z",fill:"#ffcf4a"}),(0,e.createElement)("circle",{cx:"93.24",cy:"61.06",r:"3.21",fill:"#ffcf4a"}),(0,e.createElement)("path",{d:"M86.87,71.28C87.5,68,89.58,65.53,92,65.53h2.42c2.45,0,4.54,2.44,5.16,5.75Z",fill:"#ffcf4a"}),(0,e.createElement)("circle",{cx:"66.35",cy:"61.06",r:"3.21",fill:"#ffcf4a"}),(0,e.createElement)("path",{d:"M60,71.28c.63-3.31,2.71-5.75,5.16-5.75h2.42c2.45,0,4.53,2.44,5.16,5.75Z",fill:"#ffcf4a"})])},r}(e.Component);const a=wp.blockEditor,i=wp.editor;const c=wp.components;var l=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),s=function(t){function r(e){var r=t.call(this,e)||this,n=r.props,o=n.editor,a=n.name,i=o.getAttribute(a);return void 0===i&&(i=sgdgBlockLocalize[a].default),r.state={value:i},r}return l(r,t),r.prototype.render=function(){var t=this,r=this.props,n=r.editor,o=r.name,a=void 0===n.getAttribute(o);return(0,e.createElement)("div",{className:"sgdg-block-settings-row "},[(0,e.createElement)(c.ToggleControl,{checked:!a,label:(0,e.createElement)("span",{className:"sgdg-block-settings-description"},[sgdgBlockLocalize[o].name,":"]),className:"sgdg-block-settings-checkbox",onChange:function(){t.toggle()}}),this.renderInput()])},r.prototype.change=function(t){var e=this.props,r=e.editor,n=e.name,o=this.getValue(t.target);this.setState({value:o}),r.setAttribute(n,null!=o?o:sgdgBlockLocalize[n].default)},r.prototype.toggle=function(){var t=this.props,e=t.editor,r=t.name,n=this.state.value;e.setAttribute(r,void 0!==e.getAttribute(r)?void 0:n)},r}(e.Component),u=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),p=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return u(r,t),r.prototype.renderInput=function(){var t=this,r=void 0===this.props.editor.getAttribute(this.props.name);return(0,e.createElement)("input",{checked:"true"===this.state.value,className:"sgdg-block-settings-boolean",disabled:r,onChange:function(e){t.change(e)},type:"checkbox"})},r.prototype.getValue=function(t){return t.checked?"true":"false"},r}(s),g=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),d=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return g(r,t),r.prototype.renderInput=function(){var t=this,r=void 0===this.props.editor.getAttribute(this.props.name);return(0,e.createElement)("input",{className:"sgdg-block-settings-integer components-range-control__number",disabled:r,onChange:function(e){t.change(e)},placeholder:sgdgBlockLocalize[this.props.name].default,type:"number",value:this.state.value})},r.prototype.getValue=function(t){var e=parseInt(t.value);if(!isNaN(e))return e},r}(s),f=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),h=function(t){function r(e){var r=t.call(this,e)||this,n=r.props,o=n.editor,a=n.name,i=o.getAttribute(a+"_by"),c=o.getAttribute(a+"_order");return void 0===i&&(i=sgdgBlockLocalize[a].default_by),void 0===c&&(c=sgdgBlockLocalize[a].default_order),r.state={valueBy:i,valueOrder:c},r}return f(r,t),r.prototype.render=function(){var t=this,r=this.props,n=r.editor,o=r.name,a=this.state,i=a.valueBy,l=a.valueOrder,s=void 0===n.getAttribute(o+"_by"),u=void 0===n.getAttribute(o+"_order");return(0,e.createElement)("div",{className:"sgdg-block-settings-row"},[(0,e.createElement)(c.ToggleControl,{checked:!s&&!u,className:"sgdg-block-settings-checkbox",label:(0,e.createElement)("span",{className:"sgdg-block-settings-description"},[sgdgBlockLocalize[o].name,":"]),onChange:function(){t.toggle()}}),(0,e.createElement)("select",{className:"sgdg-block-settings-select",disabled:u,onChange:function(e){t.changeOrder(e)},placeholder:sgdgBlockLocalize[o].default_order,type:"number",value:l},[(0,e.createElement)("option",{selected:"ascending"===l,value:"ascending"},sgdgBlockLocalize.ordering_option_ascending),(0,e.createElement)("option",{selected:"descending"===l,value:"descending"},sgdgBlockLocalize.ordering_option_descending)]),(0,e.createElement)("label",{className:"sgdg-block-settings-radio",for:o+"_by_time"},[(0,e.createElement)("input",{checked:"time"===i,disabled:s,id:o+"_by_time",name:o+"_by",onChange:function(e){t.changeBy(e)},type:"radio",value:"time"}),sgdgBlockLocalize.ordering_option_by_time]),(0,e.createElement)("label",{className:"sgdg-block-settings-radio",for:o+"_by_name"},[(0,e.createElement)("input",{checked:"name"===i,disabled:s,id:o+"_by_name",name:o+"_by",onChange:function(e){t.changeBy(e)},type:"radio",value:"name"}),sgdgBlockLocalize.ordering_option_by_name])])},r.prototype.toggle=function(){var t=this.props,e=t.editor,r=t.name,n=this.state,o=n.valueBy,a=n.valueOrder;e.setAttribute(r+"_by",void 0!==e.getAttribute(r+"_by")?void 0:o),e.setAttribute(r+"_order",void 0!==e.getAttribute(r+"_order")?void 0:a)},r.prototype.changeBy=function(t){var e=this.props,r=e.editor,n=e.name,o=t.target;this.setState({valueBy:o.value}),r.setAttribute(n+"_by",o.value)},r.prototype.changeOrder=function(t){var e=this.props,r=e.editor,n=e.name,o=t.target;this.setState({valueOrder:o.value}),r.setAttribute(n+"_order",o.value)},r}(e.Component),m=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),y=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return m(r,t),r.prototype.render=function(){var t=this.props.editor;return(0,e.createElement)(c.PanelBody,{title:sgdgBlockLocalize.settings_override,className:"sgdg-block-settings",children:[(0,e.createElement)("h3",null,sgdgBlockLocalize.grid_section_name),(0,e.createElement)(d,{editor:t,name:"grid_height"}),(0,e.createElement)(d,{editor:t,name:"grid_spacing"}),(0,e.createElement)(p,{editor:t,name:"dir_counts"}),(0,e.createElement)(d,{editor:t,name:"page_size"}),(0,e.createElement)(p,{editor:t,name:"page_autoload"}),(0,e.createElement)(h,{editor:t,name:"image_ordering"}),(0,e.createElement)(h,{editor:t,name:"dir_ordering"}),(0,e.createElement)("h3",null,sgdgBlockLocalize.lightbox_section_name),(0,e.createElement)(d,{editor:t,name:"preview_size"}),(0,e.createElement)(p,{editor:t,name:"preview_loop"})]})},r}(e.Component),_=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),b=function(t){function r(e){var r=t.call(this,e)||this;return r.state={error:void 0,list:void 0},r}return _(r,t),r.prototype.componentDidMount=function(){this.ajax()},r.prototype.render=function(){var t,r=this,n=this.state,o=n.error,c=n.list,l=null!==(t=a.InspectorControls)&&void 0!==t?t:i.InspectorControls;if(void 0!==o)return(0,e.createElement)("div",{class:"notice notice-error"},(0,e.createElement)("p",null,o));var s=[],u=this.getAttribute("path"),p=[(0,e.createElement)("a",{onClick:function(t){r.pathClick(t)}},sgdgBlockLocalize.root_name)];if(c){0<u.length&&s.push((0,e.createElement)("tr",null,(0,e.createElement)("td",{class:"row-title"},(0,e.createElement)("label",{onClick:function(t){r.labelClick(t)}},".."))));for(var g=0;g<c.length;g++){var d=0===u.length&&1==g%2||0<u.length&&0==g%2?"alternate":"";s.push((0,e.createElement)("tr",{class:d},(0,e.createElement)("td",{class:"row-title"},(0,e.createElement)("label",{onClick:function(t){r.labelClick(t)}},c[g]))))}for(var f=0,h=u;f<h.length;f++){var m=h[f];p.push(" > "),p.push((0,e.createElement)("a",{"data-id":m,onClick:function(t){r.pathClick(t)}},m))}}return(0,e.createElement)(e.Fragment,null,[(0,e.createElement)(l,null,(0,e.createElement)(y,{editor:this})),(0,e.createElement)("table",{class:"widefat"},[(0,e.createElement)("thead",null,(0,e.createElement)("tr",null,(0,e.createElement)("th",{class:"sgdg-block-editor-path"},p))),(0,e.createElement)("tbody",null,s),(0,e.createElement)("tfoot",null,(0,e.createElement)("tr",null,(0,e.createElement)("th",{class:"sgdg-block-editor-path"},p)))])])},r.prototype.getAttribute=function(t){return this.props.attributes[t]},r.prototype.setAttribute=function(t,e){var r=this.props.setAttributes,n={};n[t]=e,r(n)},r.prototype.ajax=function(){var t=this;$.get(sgdgBlockLocalize.ajax_url,{_ajax_nonce:sgdgBlockLocalize.nonce,action:"list_gallery_dir",path:this.getAttribute("path")},(function(e){!function(t){return"error"in t}(e)?t.setState({list:e.directories}):t.setState({error:e.error})}))},r.prototype.pathClick=function(t){var e=this;if(null!==t.currentTarget){var r=this.getAttribute("path");r=r.slice(0,r.indexOf($(t.currentTarget).data("id"))+1),this.setAttribute("path",r),this.setState({error:void 0,list:void 0},(function(){e.ajax()}))}},r.prototype.labelClick=function(t){var e=this;if(null!==t.currentTarget){var r=$(t.currentTarget).text(),n=this.getAttribute("path");n=".."===r?n.slice(0,n.length-1):n.concat(r),this.setAttribute("path",n),this.setState({error:void 0,list:void 0},(function(){e.ajax()}))}},r}(e.Component);(0,t.registerBlockType)("skaut-google-drive-gallery/gallery",{title:sgdgBlockLocalize.block_name,description:sgdgBlockLocalize.block_description,category:"media",icon:o,attributes:{path:{type:"array",default:[]},grid_height:{type:"number"},grid_spacing:{type:"number"},dir_counts:{type:"string"},page_size:{type:"number"},page_autoload:{type:"string"},image_ordering_order:{type:"string"},image_ordering_by:{type:"string"},dir_ordering_order:{type:"string"},dir_ordering_by:{type:"string"},preview_size:{type:"number"},preview_loop:{type:"string"}},edit:b,save:function(){return null},transforms:{from:[{type:"shortcode",tag:"sgdg",priority:15,attributes:{path:{type:"string",shortcode:function(t){return t.named.path?t.named.path.replace(/^\/+|\/+$/g,"").split("/"):[]}}}}]}})})();} );
