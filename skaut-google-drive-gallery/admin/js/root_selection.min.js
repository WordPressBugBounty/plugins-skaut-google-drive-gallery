jQuery( function( $ ) {
(()=>{"use strict";var t=sgdgRootpathLocalize.root_dir;function e(e){var r="";0<t.length&&(r+='<tr><td class="row-title"><label>..</label></td></tr>');for(var a=0;a<e.directories.length;a++)r+='<tr class="',(0===t.length&&1==a%2||0<t.length&&0==a%2)&&(r+="alternate"),r+='"><td class="row-title"><label data-id="'+e.directories[a].id+'">'+e.directories[a].name+"</label></td></tr>";$("#sgdg_root_selection_body").html(r),r="",0===t.length?r=sgdgRootpathLocalize.drive_list:$("#submit").removeAttr("disabled");for(a=0;a<t.length;a++)0<a&&(r+=" > "),r+='<a data-id="'+t[a]+'">'+e.path[a]+"</a>";$(".sgdg-root-selection-path").html(r),$(".sgdg-root-selection-path a").on("click",(function(){var e;e=$(this).data("id"),t=t.slice(0,t.indexOf(e)+1),o()})),$("#sgdg_root_selection_body label").on("click",(function(){var e;(e=$(this).data("id"))?t.push(e):t.pop(),o()})),$("#sgdg_root_path").val(JSON.stringify(t))}function o(){$("#sgdg_root_selection_body").html(""),$("#submit").attr("disabled","disabled"),$.get(sgdgRootpathLocalize.ajax_url,{_ajax_nonce:sgdgRootpathLocalize.nonce,action:"list_gdrive_dir",path:t},(function(o){var r,a,i,s;(function(t){return"error"in t})(o)?$(".sgdg_root_selection").replaceWith((r=o,a=sgdgRootpathLocalize,i='<div class="sgdg-notice-error"><p><strong>'+a.error_header+"</strong></p><p>"+r.error+"</p>",void 0!==r.trace&&(i+="<p><strong>"+a.error_trace_header+"</strong></p><p>"+r.trace.replace(/\n/g,"<br>")+"</p>"),i+"</div>")):(void 0!==o.resetWarn&&(t=[],s=o.resetWarn,$('<div class="notice notice-warning"><p>'+s+"</p></div>").insertBefore(".sgdg_root_selection")),e(o))}))}o()})();} );
