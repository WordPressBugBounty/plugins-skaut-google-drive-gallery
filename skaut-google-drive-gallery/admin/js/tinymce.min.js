jQuery( function( $ ) {
(()=>{"use strict";var t={n:e=>{var i=e&&e.__esModule?()=>e.default:()=>e;return t.d(i,{a:i}),i},d:(e,i)=>{for(var n in i)t.o(i,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:i[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};const e=tinymce;var i=t.n(e);var n=[];function a(){var t='<div id="sgdg-tinymce-overflow"><table id="sgdg-tinymce-table" class="widefat"><thead><tr><th class="sgdg-tinymce-path">'+sgdgTinymceLocalize.root_name+'</th></tr></thead><tbody id="sgdg-tinymce-list"></tbody><tfoot><tr><td class="sgdg-tinymce-path">'+sgdgTinymceLocalize.root_name+'</td></tr></tfoot></table></div><div class="sgdg-tinymce-footer"><a id="sgdg-tinymce-insert" class="button button-primary">'+sgdgTinymceLocalize.insert_button+"</a></div>";$("#sgdg-tinymce-modal").html(t),$("#sgdg-tinymce-insert").on("click",(function(){var t;void 0===$("#sgdg-tinymce-insert").attr("disabled")&&(null===(t=i().activeEditor)||void 0===t||t.insertContent('[sgdg path="'+n.join("/")+'"]'),tb_remove())}))}function r(){n=n.slice(0,n.indexOf($(this).data("name"))+1),o()}function d(){var t=$(this).text();".."===t?n.pop():n.push(t),o()}function o(){$("#sgdg-tinymce-list").html(""),$("#sgdg-tinymce-insert").attr("disabled","disabled"),$.get(sgdgTinymceLocalize.ajax_url,{_ajax_nonce:sgdgTinymceLocalize.nonce,action:"list_gallery_dir",path:n},(function(t){var e,i,a;!function(t){return"error"in t}(t)?function(t){var e="";$("#sgdg-tinymce-insert").removeAttr("disabled"),0<n.length&&(e+='<tr><td class="row-title"><label>..</label></td></tr>');for(var i=0;i<t.length;i++)e+='<tr class="',(0===n.length&&1==i%2||0<n.length&&0==i%2)&&(e+="alternate"),e+='"><td class="row-title"><label>'+t[i]+"</label></td></tr>";$("#sgdg-tinymce-list").html(e),e="<a>"+sgdgTinymceLocalize.root_name+"</a>";for(var a=0,o=n;a<o.length;a++){var c=o[a];e+=' > <a data-name="'+c+'">'+c+"</a>"}$(".sgdg-tinymce-path").html(e),$(".sgdg-tinymce-path a").on("click",r),$("#sgdg-tinymce-list label").on("click",d)}(t.directories):$("#TB_ajaxContent").html((e=t,i=sgdgTinymceLocalize,a='<div class="sgdg-notice-error"><p><strong>'+i.error_header+"</strong></p><p>"+e.error+"</p>",void 0!==e.trace&&(a+="<p><strong>"+i.error_trace_header+"</strong></p><p>"+e.trace.replace(/\n/g,"<br>")+"</p>"),a+"</div>"))}))}function c(){a(),tb_show(sgdgTinymceLocalize.dialog_title,"#TB_inline?inlineId=sgdg-tinymce-modal"),n=[],o()}$("#sgdg-tinymce-button").on("click",c),$("body").append('<div id="sgdg-tinymce-modal"></div>')})();} );
